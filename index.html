<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Work folio</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
    <link rel="stylesheet" href="styles/styles.css">
</head>

<body class="d-flex justify-content-center bg-secondary-subtle">
    <main class="main-container container-fluid border rounded m-5 bg-light">
        <div class="conainer">
            <header class="d-flex px-2 flex-column">
                <h6 class="text-secondary text-center">
                    WORKFOLIO 0.1.48
                </h6>
                <div class="d-flex justify-content-between border-bottom pb-2">
                    <img src="media/institution-img.jpg" alt="brototype image" class="institution-icon">
                    <div class="user-details d-flex gap-2 justify-content-between align-items-center">
                        <button class="btn rounded-pill btn-outline-secondary fw-bold">
                            BCR306
                        </button>
                        <button class="btn rounded-circle btn-primary fw-bold">B</button>
                    </div>
                </div>
            </header>
        </div>

        <!-- The body of the workfolio site -->
        <section class="content-section d-flex flex-column px-2 py-2 d-none" id="timer-section">
            <div class="time-details-container d-flex 
            justify-content-between
            align-items-center">
                <div class="timer-container d-flex gap-1">
                    <div class="profile-image-container position-relative">
                        <img src="media/my-profile.jpg" alt="my profile picture" class="rounded-circle">
                    </div>
                    <div class="timer-conainer ps-3">
                        <h class="my-name fw-normal m-0">
                            Bharath OS
                        </h>
                        <h6 class="timer text-secondary m-0 fw-bold" id="Time"></h6>
                    </div>
                </div>

                <!-- take break and clock out button -->
                <div class="control-buttons d-flex gap-2">
                    <button class="takebreak btn rounded btn-warning fw-bold btn-sm" id="takebreak">
                        Take a Break
                    </button>
                    <button class="clockout btn rounded btn-danger fw-bold btn-sm" id="clockout">
                        Clock out
                    </button>
                </div>
            </div>
        </section>

        <!--Main body of the page-->
        <div class="container-fluid main-container d-flex flex-column justify-content-center align-items-center">
            <div class="body-container d-flex flex-column align-items-center">
                <h4 class="text-dark text-center fw-normal  m-0" id="greeting"></h4>
                <h5 class="text-success text-center fw-normal m-0 mb-5 mt-3" id="status">
                    You are currently <span class="fw-bold">Working.</span>
                </h5>
                <button class="clockin btn btn-primary mb-5" id="clockin">Clock In</button>
                <div class="work-related-container d-flex justify-content-center gap-4">
                    <a href="https://app.getworkfolio.com/my-work"
                        class="btn btn-white border-secondary-subtle text-secondary rounded fw-bold">
                        View your work report
                    </a>
                    <a href="https://app.getworkfolio.com/apply-leave"
                        class="btn btn-white border-secondary-subtle text-secondary rounded fw-bold">
                        Apply leave
                    </a>
                </div>
            </div>
        </div>
    </main>

    <script>
        let timeLeft = 10;
        let seconds = 0;
        let minutes = 0;
        let hours = 0;

        // Set the greeting based on the current time
        const hourNow = new Date().getHours();
        if (hourNow >= 5 && hourNow < 12) {
            document.getElementById('greeting').innerText = "Good Morning, Bharath OS";
        }
        else if (hourNow >= 12 && hourNow < 17) {
            document.getElementById('greeting').innerText = "Good Afternoon, Bharath OS";
        }
        else if (hourNow >= 17 && hourNow < 21) {
            document.getElementById('greeting').innerText = "Good Evening, Bharath OS";
        }
        else {
            document.getElementById('greeting').innerText = "Good Night, Bharath OS";
        }

        const pauseButton = document.getElementById('takebreak');
        const clockOutButton = document.getElementById('clockout');
        const clockInButton = document.getElementById('clockin');

        const display = document.getElementById('Time');

        function updateTimer() {
            seconds++;
            if (seconds >= 60) {
                seconds = 1;
                minutes++;
                if (minutes >= 60) {
                    minutes = 1;
                    hours++;
                    if (hours >= 13) {
                        hours = 1;
                    }
                }
            }
            display.innerText = `${hours.toString().padStart(2, "0")}:${minutes.toString().padStart(2, "0")}:${seconds.toString().padStart(2, "0")}`;
        }
        let timer;

        clockInButton.addEventListener('click', () => {
            document.getElementById('timer-section').classList.remove('d-none');
            timer = setInterval(updateTimer, 1000);
            clockInButton.classList.add('d-none');
        });

        pauseButton.addEventListener('click', () => {
            if (pauseButton.innerText === "Take a Break") {
                pauseButton.innerText = "Resume Work";
                pauseButton.classList.replace('btn-warning', 'btn-primary');
                clearInterval(timer);

                document.getElementById('status').innerHTML = '<div class="text-danger text-center fw-normal m-0 mb-5 mt-2">You are on a <span class="fw-bold">Break</span> now.</div>';
            }
            else {
                pauseButton.innerHTML = "Take a Break";
                pauseButton.classList.replace('btn-primary', 'btn-warning');
                timer = setInterval(updateTimer, 1000);
                document.getElementById('status').innerHTML = '<div class="text-success text-center fw-normal m-0 mb-5 mt-2">You are currently <span class="fw-bold">Working.</span></div>';
            }
        });
        clockOutButton.addEventListener('click', () => {
            clearInterval(timer);
            document.getElementById('status').innerHTML = `<div class="text-secondary text-center fw-normal m-0 mb-5 mt-2">You have worked <span class="text-success fw-bold">${hours} hours ${minutes} minutes </span> today.</div>`;
            document.getElementById('timer-section').classList.add('d-none');
            document.getElementById('clockin').classList.remove('d-none');
        })
    </script>
</body>

</html>